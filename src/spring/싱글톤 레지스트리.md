
# Why

## 왜 [[Spring]]은 [[싱글톤]]으로 빈을 만드는 걸까?

1) 객체를 여러개 생성하지 않아도 되서 **불필요한 자원사용을 방지**할 수 있습니다  
2) 객체가 무조건 **한번만 생성되는 것을 보장**할 수 있습니다  
3) 커넥션 풀이나 스레드풀과 같이 객체를 여러개 동시에 생성해서 사용하게 될 경우 프로그램이  
예상치 못한 결과를 얻을 수 있습니다.


이는 스프링이 주로 적용되는 대상이 멀티 스레드 서버 환경(엔터프라이즈 시스템?)을 위해 고안된 기술이기 때문이다.  

대규모의 엔터프라이즈 서버 환경은 서버 하나당 최대 초당 수십에서 수백 번씩 요청을 받아 처리할 수 있어야 한다.  
그런데 매번 클라이언트에서 요청이 올 때마다 각 로직을 담당하는 객체를 새로 만들어서 사용한다고 생각해보자. 서버에 **부하가 발생**하게 된다.

[[서블릿]]은 대부분 멀티스레드 환경에서 싱글톤으로 동작한다.  

애플리케이션 안에 제한된 수, 대개 한 개의 오브젝트만 만들어서 사용하는 것이 [[싱글톤 패턴]]의 원리다. 



## 싱글톤 레지스트리를 쓰는 이유?

싱글톤 패턴과 같이 private 생성자를 사용해야 하는 비정상적인 클래스가 아니라, **평범한 자바 클래스를 싱글톤으로 활용**하게 해주기 때문이다. 

물론 public 생성자를 가질 수 있다.   

가장 중요한 것은, [[싱글톤 패턴]]과 달리 스프링이 지지하는 **OOP 설계 방식과 원칙을 적용하는 데 아무런 제약이 없다**는 것이다.

토프링 104p...
우리가 만들었던 오브젝트 팩토리와 스프링의 애플리케이션 컨텍스트 동작 방식에는 차이점이 있다.  
스프링은 여러 번에 걸쳐 빈을 요청하더라도 매번 동일한 객체를 돌려준다는 것이다.  
즉, 빈 객체에 대한 [[동일성]]을 보장한다.  


# How

## 주의점

[[싱글톤#주의점]]

읽기 전용의 정보이거나, 다른 싱글톤 빈을 저장하려는 용도라면 인스턴스 변수를 사용해도 좋다.  


